# ft_philosophers

#### Завершающий проект по курсу Си в школе 21. Проект состоит в решении [задачи об обедающих философах](https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%B4%D0%B0%D1%87%D0%B0_%D0%BE%D0%B1_%D0%BE%D0%B1%D0%B5%D0%B4%D0%B0%D1%8E%D1%89%D0%B8%D1%85_%D1%84%D0%B8%D0%BB%D0%BE%D1%81%D0%BE%D1%84%D0%B0%D1%85 "Ссылка") путем использования многопоточности и процессов в Си.

<details>
<summary>Описание задачи</summary>
Пять безмолвных философов сидят вокруг круглого стола, перед каждым философом стоит тарелка спагетти. Вилки лежат на столе между каждой парой ближайших философов.
Каждый философ может либо есть, либо размышлять. Приём пищи не ограничен количеством оставшихся спагетти — подразумевается бесконечный запас. Тем не менее, философ может есть только тогда, когда держит две вилки — взятую справа и слева (альтернативная формулировка проблемы подразумевает миски с рисом и палочки для еды вместо тарелок со спагетти и вилок).
Каждый философ может взять ближайшую вилку (если она доступна) или положить — если он уже держит её. Взятие каждой вилки и возвращение её на стол являются раздельными действиями, которые должны выполняться одно за другим.
Вопрос задачи заключается в том, чтобы разработать модель поведения (параллельный алгоритм), при котором ни один из философов не будет голодать, то есть будет вечно чередовать приём пищи и размышления.
</details>

Задача сформулирована таким образом, чтобы иллюстрировать проблему избежания взаимной блокировки (наступление дедлока).  К решению данной проблемы есть три подхода: 
1. Иерархия ресурсов - thread & mutex ([решение philo_one](https://github.com/atomatoe/ft_philosophers/tree/master/philo_one "Ссылка"));
2. Официант - thread & semaphore ([решение philo_two](https://github.com/atomatoe/ft_philosophers/tree/master/philo_two "Ссылка"));
3. Решение на основе монитора - fork & semaphore ([решение philo_three](https://github.com/atomatoe/ft_philosophers/tree/master/philo_three "Ссылка"));

При запуске программы мы можем подаем следующие аргументы:
1. Количество философов (столько же будет вилок на столе);
2. Время до смерти в милисекундах;
3. Время обеда в милисекундах;
4. Время сна в милисекундах;
5. Количество, которое должен поесть каждый философ. Опциональный аргумент.

После каждого приема пищи, философ является сытым. Если философ не поест по истечению времени 2 аргумента (время до смерти), он погибнет. Программа завершается только в случае: смерти философа или при выполнении опционального аргумента.

Пример запуска программы на 2 100 10 10 (бесконечная жизнь):

![Screen](https://raw.githubusercontent.com/atomatoe/ft_philosophers/master/screenshot/screen1.png?token=ARB66CFF46RJMQSXD73LE2TALIVHC)

Сообщение о смерти философа должно быть последним. Далее не должно быть никаких сообщений, программа завершается:

![Screen](https://raw.githubusercontent.com/atomatoe/ft_philosophers/master/screenshot/screen2.png?token=ARB66CAQ7USN54I44Y3NHA3ALIWGE)

Проект написан по стандарту Си 98 и по [norme 42](https://github.com/andreevgy/42-norme-ru "Ссылка").
